{% extends "base.html" %} {% block content %}
<h2>Taxonomy</h2>
<p>
  Zdefiniuj własny układ bucketów. Domyślnie nic nie narzucamy — dodaj tylko to,
  czego potrzebujesz. Deduplikujemy case-insensitive i zachowujemy Twoją
  pisownię. Możesz też skorzystać z poniższych propozycji.
  <br />
  Preferowany styl: <code>{{ prefs.label_style }}</code> (<em
    >zastosuj przy zapisie</em
  >
  — patrz przełącznik na dole).
</p>

<form method="post" action="/taxonomy/save" class="card">
  <h3>READY TO PLAY/*</h3>
  <div class="grid">
    <section>
      <h4>CLUB</h4>
      {% if club_current %} {% for name in club_current %}
      <div class="row">
        <input name="club" value="{{ name }}" />
      </div>
      {% endfor %} {% else %}
      <p class="muted">Brak pozycji — dodaj własne lub wybierz z propozycji.</p>
      {% endif %}
      <div class="row"><input name="club" placeholder="+ dodaj" /></div>

      {% if sugg_club %}
      <div class="chips">
        {% for s in sugg_club %}
        <label class="chip">
          <input type="checkbox" name="club" value="{{ s }}" />
          <span>+ {{ s }}</span>
        </label>
        {% endfor %}
      </div>
      {% endif %}
    </section>

    <section>
      <h4>OPEN FORMAT</h4>
      {% if open_current %} {% for name in open_current %}
      <div class="row">
        <input name="openf" value="{{ name }}" />
      </div>
      {% endfor %} {% else %}
      <p class="muted">Brak pozycji — dodaj własne lub wybierz z propozycji.</p>
      {% endif %}
      <div class="row"><input name="openf" placeholder="+ dodaj" /></div>

      {% if sugg_open %}
      <div class="chips">
        {% for s in sugg_open %}
        <label class="chip">
          <input type="checkbox" name="openf" value="{{ s }}" />
          <span>+ {{ s }}</span>
        </label>
        {% endfor %}
      </div>
      {% endif %}
    </section>
  </div>

  <h4 style="margin-top: 1rem">Poziom najwyższy</h4>
  <div class="row">
    {% for t in sugg_top %}
    <label class="check"
      ><input type="checkbox" name="top_level" value="{{ t }}" />
      <span>{{ t }}</span></label
    >
    {% endfor %}
  </div>

  <div class="row" style="margin-top: 1rem">
    <label class="check">
      <input type="checkbox" name="apply_style" value="1" />
      <span>Zastosuj preferowany styl przy zapisie</span>
    </label>
  </div>

  <div class="actions">
    <button type="submit">Zapisz i utwórz foldery</button>
  </div>
</form>

<details class="card">
  <summary>Review buckets (REVIEW QUEUE/*)</summary>
  <p class="muted">
    Te foldery służą do wstępnej klasyfikacji i ręcznej decyzji. Zalecamy
    trzymać je zawsze dostępne: <code>NEEDS EDIT</code>, <code>UNDECIDED</code>.
  </p>
  <div class="grid">
    {% for r in review %}
    <label class="check">
      <input type="checkbox" name="review_selected" value="{{ r }}" checked />
      <span>{{ r }}</span>
    </label>
    {% endfor %}
  </div>
</details>

{% endblock %}
